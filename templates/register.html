{% extends "base.html" %}
{% block title %}Sign Up - College Predictor{% endblock %}
{% block content %}
<style>
.auth-container{min-height:80vh;display:flex;align-items:center;justify-content:center;padding:2rem 0}
.auth-box{background:white;padding:3rem;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,0.2);max-width:450px;width:100%}
.auth-box h2{text-align:center;margin-bottom:2rem;background:linear-gradient(135deg,var(--primary),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.form-group{margin-bottom:1.5rem}.form-group label{display:block;margin-bottom:0.5rem;font-weight:600}
.form-group input{width:100%;padding:0.9rem;border:2px solid #e2e8f0;border-radius:8px;font-size:1rem}
.form-group input:focus{outline:none;border-color:var(--primary)}
.text-center{text-align:center;margin-top:1.5rem}
</style>
<div class="container"><div class="auth-container"><div class="auth-box">
<h2><i class="fas fa-user-plus"></i> Create Account</h2>
<form id="registerForm">
<div class="form-group"><label>Full Name</label><input type="text" id="name" required></div>
<div class="form-group"><label>Email</label><input type="email" id="email" required></div>
<div class="form-group"><label>Phone (Optional)</label><input type="tel" id="phone"></div>
<div class="form-group"><label>Password</label><input type="password" id="password" required minlength="6"></div>
<div class="form-group"><label>Confirm Password</label><input type="password" id="confirm_password" required></div>
<button type="submit" class="btn btn-secondary" style="width:100%">Sign Up</button>
</form>
<div class="text-center"><p>Already have an account? <a href="/student/login" style="color:var(--primary);font-weight:600">Login</a></p></div>
</div></div></div>
<script>
document.getElementById('registerForm').addEventListener('submit',async(e)=>{
e.preventDefault();
const btn=e.target.querySelector('button');btn.disabled=true;btn.textContent='Creating account...';
const data={name:document.getElementById('name').value,email:document.getElementById('email').value,
phone:document.getElementById('phone').value,password:document.getElementById('password').value,
confirm_password:document.getElementById('confirm_password').value};
try{
const res=await fetch('/student/do_register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});
const result=await res.json();
if(result.success)window.location.href=result.redirect;
else{alert(result.error);btn.disabled=false;btn.textContent='Sign Up';}
}catch(e){alert('Error: '+e.message);btn.disabled=false;btn.textContent='Sign Up';}
});
</script>
{% endblock %}